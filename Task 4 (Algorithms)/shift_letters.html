<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Shift letters</title>
</head>

<body>
    <input id="string" type="text" style=" margin: 20px; font-size: 1.5em;">
    <label for="string" style="font-size: 1.5em;">Mas</label>
    <input id="shift" type="text" style=" width: 50px; margin: 20px; font-size: 1.5em;">
    <label for="shift" style="font-size: 1.5em;">Shift</label>
    <p style=" margin: 20px; font-size: 1.5em;">Change Shift to trigger the function</p>
    <script>
    
    const leftBorder = 90;
    const rightBorder = 122;
    const step = 26;

    var isAlpha = function(ch){
        return /^[A-Z]$/i.test(ch);
    }

    function sumOfTwo (str, shift) {
        let arr = str.split("");
        for (i in str) {
            let localShift = shift;
            if (isAlpha(arr[i])) {
                while (str.charCodeAt(i) <= leftBorder && str.charCodeAt(i) + localShift > leftBorder)   localShift -= step;
                while (str.charCodeAt(i) <= rightBorder && str.charCodeAt(i) + localShift > rightBorder) localShift -= step;
                arr[i] = String.fromCharCode(str.charCodeAt(i) + localShift);

            }
        }
        return arr.join("");
    }

    let el = document.querySelector("#shift");
    el.addEventListener("change", function() {
        let str = document.querySelector("#string").value;
        let shift = parseInt(el.value);
        console.log(sumOfTwo(str, shift));
    });
    </script>
</body>

</html>